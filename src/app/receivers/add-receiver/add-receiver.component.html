<div class="center-aligned top-margin">
    <p class="header-text">Add receiver details</p>
    <mat-card>
        <form [formGroup]="receiversForm">
            <mat-grid-list [cols]="maxCols" [rowHeight]="rowHeight" (window:resize)="onResize($event)">
                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <mat-select formControlName="country" placeholder="Country">
                            <mat-option *ngFor="let country of countries"
                                value="{{country.name}}">{{country.name}}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="receiversForm.controls['country'].errors?.required 
                          && receiversForm.controls['country'].touched">
                            Receiver's country <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="firstName" placeholder="First name">
                        <mat-error *ngIf="receiversForm.controls['firstName'].errors?.required 
                        && receiversForm.controls['firstName'].touched">
                            Receiver's first name <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="(receiversForm.controls['firstName']).hasError">
                            Enter correct <strong>first name</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="lastName" placeholder="Last name">
                        <mat-error *ngIf="receiversForm.controls['lastName'].errors?.required 
                    && receiversForm.controls['lastName'].touched">
                            Receiver's last name <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="(receiversForm.controls['lastName']).hasError">
                            Enter correct <strong>last name</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="mobileNumber" placeholder="Mobile number">
                        <mat-error *ngIf="receiversForm.controls['mobileNumber'].errors?.required 
                    && receiversForm.controls['mobileNumber'].touched">
                            Receiver's mobile number <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="(receiversForm.controls['country']).hasError">
                            Enter correct <strong>mobile number</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="bankAccountNumber" placeholder="Bank account number">
                        <mat-error *ngIf="receiversForm.controls['bankAccountNumber'].errors?.required 
                    && receiversForm.controls['bankAccountNumber'].touched">
                            Receiver's bank account number <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="iban" placeholder="IBAN">
                        <mat-error *ngIf="receiversForm.controls['iban'].errors?.required 
                    && receiversForm.controls['iban'].touched">
                            Receiver's IBAN <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="(receiversForm.controls['country']).hasError">
                            Enter correct <strong>IBAN,</strong> ex: <strong>IBAN0123456</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>

                <mat-grid-tile>
                    <mat-form-field appearance="fill" [hideRequiredMarker]="false" class="form-field">
                        <input matInput formControlName="nickName" placeholder="Nick name"
                            [readonly]="formMode === 'modify'">
                        <mat-error *ngIf="receiversForm.controls['nickName'].errors?.required 
                    && receiversForm.controls['nickName'].touched">
                            Receiver's nick name <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                </mat-grid-tile>
            </mat-grid-list>
        </form>
    </mat-card>
</div>

<div class="center-aligned">
    <button class="btn-secondary bottom-margin" *ngIf="formMode === 'add'; else modifyBtn"
        [disabled]="!receiversForm.valid" (click)="addReceiverDetails()">Continue</button>
    <p class="btn-cancel" routerLink="/receivers">Cancel</p>
</div>

<ng-template #modifyBtn>
    <button class="btn-secondary bottom-margin" [disabled]="!receiversForm.valid"
        (click)="modifyReceiverDetails()">Update</button>
</ng-template>